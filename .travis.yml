# this will trigger the build only on main branch and on PRs
if: branch = main

language: minimal

services:
  - docker

env:
  global:
    - IMAGE_NAME=transformer-engine
    - IMAGE_TAG=0.2.2
    - BUILD_IMAGE=true

install:
  - git clone -b ibm-main https://$GIT_PAT@github.ibm.com/ai-models-architectures/transformers
  - git clone -b t5_hf-lego https://$GIT_PAT@github.ibm.com/ai-foundation/foundation-model-stack
  - sh scripts/travis/build.sh
